<html>
  <head>
    <script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
    <script>
      //var thing = {"1,2" : ["N","W",],"3,2" : ["E","N",],"0,0" : ["S","E",],"3,0" : ["S","E","N",],"2,2" : ["S","W",],"2,1" : ["E","W",],"1,3" : ["S","E",],"2,3" : ["N","E",],"1,4" : ["W","N",],"2,4" : ["W","S",],"4,2" : ["W",],"0,3" : ["E","W",],"1,0" : ["N","E",],"4,0" : ["N",],"0,1" : ["W",],"3,3" : ["W","S",],"3,4" : ["N","S",],"3,1" : ["W","S",],"4,4" : ["N","W",],"0,2" : ["S","E",],"2,0" : ["S","E",],"4,3" : ["N","E",],"0,4" : ["W","S",],"4,1" : ["N","E",],"1,1" : ["W","E",],};
      var thing = {"1,2" : ["N","W","S",],"3,2" : ["N","E",],"0,0" : ["S","E",],"3,0" : ["S","E",],"0,4" : ["N",],"1,4" : ["N",],"1,3" : ["N","W","S","E",],"2,3" : ["W","N","E",],"2,1" : ["E","W","N",],"2,4" : ["E",],"4,2" : ["W","S","N",],"1,0" : ["W",],"0,3" : ["E","S",],"4,0" : ["W",],"0,1" : ["E","N",],"3,3" : ["W",],"4,1" : ["S",],"3,1" : ["W","N","S",],"4,4" : ["N","W",],"0,2" : ["E",],"2,0" : ["S",],"4,3" : ["N","S",],"2,2" : ["S",],"3,4" : ["E","W",],"1,1" : ["E","S","W",],};

      labSize = 5;
      cellSize = 400 / labSize;
      var xPlayer = 0;
      var yPlayer = 0;
      var stage;
      var player;

      function createMaze(width, height){

      }

      function drawLabyrinth(){
         var labyrinth = new createjs.Shape();
         lab_graph = labyrinth.graphics;
         lab_graph.beginStroke("green").mt(0,0);
         lab_graph.lt(0,400).lt(400,400).lt(400,0).lt(0,0);

         //var thing = {"0,0": [[1,0]], "1,0": [(0,1)]};
         lab_graph.beginStroke("yellow");
         // var thing = {"0,1" : ["E","W",],"2,0" : ["E","N",],"0,0" : ["S","E",],"2,2" : ["W",],"1,0" : ["N","S",],"1,2" : ["W",],"1,1" : ["S","E",],"2,1" : ["W","N","E",],"0,2" : ["W",],};
         for(x = 0; x < labSize; x++){
            for(y = 0; y < labSize; y++){
               var walls = thing[[x,y]];
               if(!walls.includes("S")){
                  lab_graph.mt(x*cellSize,(y+1)*cellSize).lt((x+1)*cellSize,(y+1)*cellSize);
               } if(!walls.includes("E")){
                  lab_graph.mt((x+1)*cellSize,y*cellSize).lt((x+1)*cellSize,(y+1)*cellSize);
               } if(!walls.includes("N")){
                  lab_graph.mt(x*cellSize,y*cellSize).lt((x+1)*cellSize,y*cellSize);
               } if(!walls.includes("W")){
                  lab_graph.mt(x*cellSize,y*cellSize).lt(x*cellSize,(y+1)*cellSize);
               }
            }
         }
         return labyrinth;
      }
      function playOnce() {
         xPlayer++;
         if(xPlayer >= labSize){
            xPlayer = 0;
            yPlayer++;
            if(yPlayer >= labSize){
               yPlayer = 0;
            }
         }
         player.x = (xPlayer * cellSize + cellSize/2);
         player.y = (yPlayer * cellSize + cellSize / 2);

         // stage.addChild(player);
         stage.update(event);

      }

      function init() {
         stage = new createjs.Stage("demoCanvas");
         player = new createjs.Shape();
         player.graphics.beginFill("red").drawCircle(50, 50, cellSize/2);
         var background = new createjs.Shape();
         background.graphics.beginFill("blue").drawRect(0, 0, 500, 500);

      //   var labyrinth = new createjs.Shape();
      //   lab_graph = labyrinth.graphics;
      //   lab_graph.beginStroke("green").mt(100,100);
      //   lab_graph.lt(100,400).lt(400,400).lt(400,100).lt(100,100);

         labyrinth = drawLabyrinth();

         labyrinth.x = 50;
         labyrinth.y = 50;

         stage.addChild(background);
         stage.addChild(labyrinth);
         stage.addChild(player);
         stage.update();

         createjs.Ticker.addEventListener("tick", playOnce);

         createjs.Ticker.setInterval(500);

      }
    </script>
  </head>
  <body onload="init();">
    <canvas id="demoCanvas" width="500" height="500"></canvas>
  </body>
</html>
